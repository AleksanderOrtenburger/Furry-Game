!function(r){var t={};function i(e){if(t[e])return t[e].exports;var n=t[e]={i:e,l:!1,exports:{}};return r[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=r,i.c=t,i.d=function(r,t,e){i.o(r,t)||Object.defineProperty(r,t,{configurable:!1,enumerable:!0,get:e})},i.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},i.n=function(r){var t=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(t,"a",t),t},i.o=function(r,t){return Object.prototype.hasOwnProperty.call(r,t)},i.p="",i(i.s=3)}([function(r,t){r.exports=function(){this.x=Math.floor(10*Math.random()),this.y=Math.floor(10*Math.random())}},function(r,t){r.exports=function(){this.x=0,this.y=0,this.direction="right"}},function(r,t,i){var e=i(1),n=i(0);r.exports=function(){this.board=document.querySelectorAll("#board>div"),this.furry=new e,this.coin=new n,this.score=0,this.index=function(r,t){return r+10*t},this.showFurry=function(){this.hideVisibleFurry(),this.board[this.index(this.furry.x,this.furry.y)].classList.add("furry")},this.showCoin=function(){this.board[this.index(this.coin.x,this.coin.y)].classList.add("coin")},this.moveFurry=function(){"right"===this.furry.direction?this.furry.x=this.furry.x+1:"left"===this.furry.direction?this.furry.x=this.furry.x-1:"up"===this.furry.direction?this.furry.y=this.furry.y-1:"down"===this.furry.direction&&(this.furry.y=this.furry.y+1),this.gameOver(),this.showFurry(),this.checkCoinCollision()},this.hideVisibleFurry=function(){var r=document.querySelector("div.furry");null!==r&&r.classList.remove("furry")},this.turnFurry=function(r){switch(r.which){case 37:this.furry.direction="left";break;case 38:this.furry.direction="up";break;case 39:this.furry.direction="right";break;case 40:this.furry.direction="down"}},this.checkCoinCollision=function(){if(this.furry.x===this.coin.x&&this.furry.y===this.coin.y){var r=document.querySelector("div.coin"),t=document.querySelector("#score strong");r.classList.remove("coin"),this.score++,t.innerText=this.score,this.coin=new n,this.showCoin()}},this.gameOver=function(){(this.furry.x<0||this.furry.x>9||this.furry.y<0||this.furry.y>9)&&(window.clearInterval(this.idSetInterval),this.idSetInterval=null,this.hideVisibleFurry(),console.log("konieccc"),this.gameOverScreen())},this.gameOverScreen=function(){var r=document.querySelector("#over");r.classList.remove("invisible"),r.lastElementChild.innerHTML="GAME OVER <br> <strong>SCORE: "+this.score+"</strong>"},this.startGame=function(){var r=this;this.idSetInterval=setInterval(function(){r.moveFurry()},250)}}},function(r,t,i){var e=new(i(2));e.showFurry(),e.showCoin(),e.startGame(),document.addEventListener("keydown",function(r){e.turnFurry(r)})}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vanMvY29pbi5qcyIsIndlYnBhY2s6Ly8vLi9qcy9mdXJyeS5qcyIsIndlYnBhY2s6Ly8vLi9qcy9nYW1lLmpzIiwid2VicGFjazovLy8uL2pzL2FwcC5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwidGhpcyIsIngiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ5IiwiZGlyZWN0aW9uIiwiRnVycnkiLCJDb2luIiwiYm9hcmQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmdXJyeSIsImNvaW4iLCJzY29yZSIsImluZGV4Iiwic2hvd0Z1cnJ5IiwiaGlkZVZpc2libGVGdXJyeSIsImNsYXNzTGlzdCIsImFkZCIsInNob3dDb2luIiwibW92ZUZ1cnJ5IiwiZ2FtZU92ZXIiLCJjaGVja0NvaW5Db2xsaXNpb24iLCJjbG9uZSIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmUiLCJ0dXJuRnVycnkiLCJldmVudCIsIndoaWNoIiwiY29pblBvcyIsInNjb3JlQ291bnQiLCJpbm5lclRleHQiLCJ3aW5kb3ciLCJjbGVhckludGVydmFsIiwiaWRTZXRJbnRlcnZhbCIsImNvbnNvbGUiLCJsb2ciLCJnYW1lT3ZlclNjcmVlbiIsInNlY3Rpb25PdmVyIiwibGFzdEVsZW1lbnRDaGlsZCIsImlubmVySFRNTCIsInN0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WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDMpO1xuIiwiZnVuY3Rpb24gQ29pbigpIHtcbiAgICB0aGlzLnggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMCk7XG4gICAgdGhpcy55ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTApO1xufVxubW9kdWxlLmV4cG9ydHMgPSBDb2luOyIsImZ1bmN0aW9uIEZ1cnJ5KCkge1xuICAgIHRoaXMueCA9IDA7XG4gICAgdGhpcy55ID0gMDtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IFwicmlnaHRcIjtcblxufVxubW9kdWxlLmV4cG9ydHMgPSBGdXJyeTsiLCJ2YXIgRnVycnkgPSByZXF1aXJlKFwiLi9mdXJyeS5qc1wiKTtcbnZhciBDb2luID0gcmVxdWlyZShcIi4vY29pbi5qc1wiKTtcbmZ1bmN0aW9uIEdhbWUoKXtcbiAgICB0aGlzLmJvYXJkPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNib2FyZD5kaXYnKTtcbiAgICB0aGlzLmZ1cnJ5PW5ldyBGdXJyeSgpO1xuICAgIHRoaXMuY29pbj1uZXcgQ29pbigpO1xuICAgIHRoaXMuc2NvcmU9MDtcbiAgICB0aGlzLmluZGV4ID0gZnVuY3Rpb24oeCx5KSB7XG4gICAgICAgIHJldHVybiB4ICsgKHkgKiAxMCk7XG4gICAgfTtcbiAgICB0aGlzLnNob3dGdXJyeT1mdW5jdGlvbigpe1xuICAgICAgICB0aGlzLmhpZGVWaXNpYmxlRnVycnkoKTtcbiAgICAgICAgdGhpcy5ib2FyZFt0aGlzLmluZGV4KHRoaXMuZnVycnkueCwgdGhpcy5mdXJyeS55KV0uY2xhc3NMaXN0LmFkZChcImZ1cnJ5XCIpO1xuXG5cbiAgICB9O1xuICAgIHRoaXMuc2hvd0NvaW49ZnVuY3Rpb24oKXtcblxuICAgICAgICB0aGlzLmJvYXJkW3RoaXMuaW5kZXgodGhpcy5jb2luLngsIHRoaXMuY29pbi55KV0uY2xhc3NMaXN0LmFkZChcImNvaW5cIik7XG5cblxuICAgIH07XG5cbiAgICB0aGlzLm1vdmVGdXJyeSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5mdXJyeS5kaXJlY3Rpb24gPT09IFwicmlnaHRcIikge1xuICAgICAgICAgICAgdGhpcy5mdXJyeS54ID0gdGhpcy5mdXJyeS54ICsgMTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZ1cnJ5LmRpcmVjdGlvbiA9PT0gXCJsZWZ0XCIpIHtcbiAgICAgICAgICAgIHRoaXMuZnVycnkueCA9IHRoaXMuZnVycnkueCAtIDE7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5mdXJyeS5kaXJlY3Rpb24gPT09IFwidXBcIikge1xuICAgICAgICAgICAgdGhpcy5mdXJyeS55ID0gdGhpcy5mdXJyeS55IC0gMTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZ1cnJ5LmRpcmVjdGlvbiA9PT0gXCJkb3duXCIpIHtcbiAgICAgICAgICAgIHRoaXMuZnVycnkueSA9IHRoaXMuZnVycnkueSArIDE7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5nYW1lT3ZlcigpO1xuICAgICAgICB0aGlzLnNob3dGdXJyeSgpO1xuICAgICAgICB0aGlzLmNoZWNrQ29pbkNvbGxpc2lvbigpO1xuXG4gICAgfTtcbiAgICB0aGlzLmhpZGVWaXNpYmxlRnVycnkgPSBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgY2xvbmUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiZGl2LmZ1cnJ5XCIpO1xuICAgICAgICBpZihjbG9uZSAhPT0gbnVsbCl7XG4gICAgICAgICAgICBjbG9uZS5jbGFzc0xpc3QucmVtb3ZlKFwiZnVycnlcIik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHRoaXMudHVybkZ1cnJ5ID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQud2hpY2gpIHtcbiAgICAgICAgICAgIGNhc2UgMzc6XG4gICAgICAgICAgICAgICAgdGhpcy5mdXJyeS5kaXJlY3Rpb24gPSBcImxlZnRcIjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzg6XG4gICAgICAgICAgICAgICAgdGhpcy5mdXJyeS5kaXJlY3Rpb24gPSBcInVwXCI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDM5OlxuICAgICAgICAgICAgICAgIHRoaXMuZnVycnkuZGlyZWN0aW9uID0gXCJyaWdodFwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA0MDpcbiAgICAgICAgICAgICAgICB0aGlzLmZ1cnJ5LmRpcmVjdGlvbiA9IFwiZG93blwiO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmNoZWNrQ29pbkNvbGxpc2lvbiA9IGZ1bmN0aW9uKCl7XG4gICAgICAgIGlmKHRoaXMuZnVycnkueCA9PT0gdGhpcy5jb2luLnggJiYgdGhpcy5mdXJyeS55ID09PSB0aGlzLmNvaW4ueSl7XG4gICAgICAgICAgICB2YXIgY29pblBvcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJkaXYuY29pblwiKTtcbiAgICAgICAgICAgIHZhciBzY29yZUNvdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNzY29yZSBzdHJvbmdcIik7XG4gICAgICAgICAgICBjb2luUG9zLmNsYXNzTGlzdC5yZW1vdmUoXCJjb2luXCIpO1xuICAgICAgICAgICAgdGhpcy5zY29yZSsrO1xuICAgICAgICAgICAgc2NvcmVDb3VudC5pbm5lclRleHQgPSB0aGlzLnNjb3JlO1xuICAgICAgICAgICAgdGhpcy5jb2luID0gbmV3IENvaW4oKTtcbiAgICAgICAgICAgIHRoaXMuc2hvd0NvaW4oKTtcblxuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdhbWVPdmVyID0gZnVuY3Rpb24oKXtcbiAgICAgICAgaWYodGhpcy5mdXJyeS54IDwgMCAgfHwgdGhpcy5mdXJyeS54ID4gOSB8fCB0aGlzLmZ1cnJ5LnkgPCAwIHx8IHRoaXMuZnVycnkueSA+IDkpXG4gICAgICAgIHtcblxuICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGhpcy5pZFNldEludGVydmFsKTtcbiAgICAgICAgICAgIHRoaXMuaWRTZXRJbnRlcnZhbCA9IG51bGw7XG4gICAgICAgICAgICB0aGlzLmhpZGVWaXNpYmxlRnVycnkoKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdrb25pZWNjYycpO1xuICAgICAgICAgICAgdGhpcy5nYW1lT3ZlclNjcmVlbigpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB0aGlzLmdhbWVPdmVyU2NyZWVuID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VjdGlvbk92ZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI292ZXJcIik7XG4gICAgICAgIHNlY3Rpb25PdmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJpbnZpc2libGVcIik7XG4gICAgICAgIHNlY3Rpb25PdmVyLmxhc3RFbGVtZW50Q2hpbGQuaW5uZXJIVE1MID0gXCJHQU1FIE9WRVIgPGJyPiA8c3Ryb25nPlNDT1JFOiBcIit0aGlzLnNjb3JlK1wiPC9zdHJvbmc+XCI7XG5cbiAgICB9O1xuICAgIHRoaXMuc3RhcnRHYW1lID0gZnVuY3Rpb24oKXtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmlkU2V0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbigpe1xuICAgICAgICAgICAgc2VsZi5tb3ZlRnVycnkoKTtcbiAgICAgICAgfSwgMjUwKTtcbiAgICB9O1xuXG59O1xubW9kdWxlLmV4cG9ydHMgPUdhbWU7IiwiXG5cbnZhciBHYW1lID0gcmVxdWlyZShcIi4vZ2FtZS5qc1wiKTtcbnZhciBuZXdHYW1lID0gbmV3IEdhbWUoKTtcbm5ld0dhbWUuc2hvd0Z1cnJ5KCk7XG5uZXdHYW1lLnNob3dDb2luKCk7XG5uZXdHYW1lLnN0YXJ0R2FtZSgpO1xuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGV2ZW50KXtcbiAgICBuZXdHYW1lLnR1cm5GdXJyeShldmVudCk7XG59KTtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==